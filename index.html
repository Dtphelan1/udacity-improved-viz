<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://dimplejs.org/dist/dimple.v2.3.0.min.js"></script>
  <script type="text/javascript">
    function draw() {
      /*
        D3.js setup code
      */
      "use strict";
      var data = [
        { "Date": new Date("January 2011"), "Jobs Lost":.09 },
        { "Date": new Date("February 2011"), "Jobs Lost":.089 },
        { "Date": new Date("March 2011"), "Jobs Lost":.088 },
        { "Date": new Date("April 2011"), "Jobs Lost":.09 },
        { "Date": new Date("May 2011"), "Jobs Lost":.091 },
        { "Date": new Date("June 2011"), "Jobs Lost":.092 },
        { "Date": new Date("July 2011"), "Jobs Lost":.091 },
        { "Date": new Date("August 2011"), "Jobs Lost":.091 },
        { "Date": new Date("September 2011"), "Jobs Lost":.091 },
        { "Date": new Date("October 2011"), "Jobs Lost":.09 },
        { "Date": new Date("November 2011"), "Jobs Lost":.086 }
      ];

      var margin = 75,
          width = 1200 - margin,
          height = 800 - margin;

      var svg = d3.select("body")
        .append("svg")
          .attr("width", width + margin)
          .attr("height", height + margin)
        .append('g')
            .attr('class','chart');

      var chart = new dimple.chart(svg, data);
      var x = chart.addTimeAxis("x", "Date", null, "%B");
      var y = chart.addMeasureAxis("y", "Jobs Lost");
      y.tickFormat = "%"
      y.overrideMin = .08
      y.overrideMax = .10

      x.addOrderRule("Date");
      x.timeInterval = "1";
      x.title = "Month"


      chart.setBounds(110, 110, 1000, 500)
      chart.addSeries(null, dimple.plot.line);
      chart.addSeries(null, dimple.plot.scatter);
      chart.draw();

      svg.append("text")
          .attr("x", width/2)             
          .attr("y", 30)
          .attr("text-anchor", "middle")  
          .style("font-size", "16px") 
          .style("text-decoration", "bold")  
          .text("Unemployment Rate - 2011");

      /*
        Dimple.js Chart construction code
      */
    };
  </script>
</head>
<body>
  <script type="text/javascript">
  /*
    Use D3 (not dimple.js) to load the TSV file
    and pass the contents of it to the draw function
    */
    draw()
  </script>
</body>
</html>
